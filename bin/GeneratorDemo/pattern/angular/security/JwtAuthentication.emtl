<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:mtl="http://www.eclipse.org/acceleo/mtl/3.0" xmlns:ocl.ecore="http://www.eclipse.org/ocl/1.1.0/Ecore">
  <mtl:Module name="JwtAuthentication" nsURI="GeneratorDemo::pattern::angular::security::JwtAuthentication" startHeaderPosition="29" endHeaderPosition="180">
    <input>
      <takesTypesFrom href="http://www.eclipse.org/uml2/5.0.0/UML#/"/>
    </input>
    <ownedModuleElement xsi:type="mtl:Template" name="generateElementJwtAuthentication" visibility="Public" main="true">
      <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="&#xA;"/>
      <body xsi:type="mtl:FileBlock" openMode="OverWrite">
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="package com.softtek.acceleo.demo.security;&#xA;&#xA;import org.springframework.beans.factory.annotation.Qualifier;&#xA;import org.springframework.security.core.AuthenticationException;&#xA;import org.springframework.security.web.AuthenticationEntryPoint;&#xA;import org.springframework.stereotype.Component;&#xA;&#xA;import javax.servlet.http.HttpServletRequest;&#xA;import javax.servlet.http.HttpServletResponse;&#xA;import java.io.IOException;&#xA;import java.io.Serializable;&#xA;&#xA;@Component&#xA;public class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint, Serializable {&#xA;&#xA;    private static final long serialVersionUID = -8970718410437077606L;&#xA;&#xA;    @Override&#xA;    public void commence(HttpServletRequest request,&#xA;                         HttpServletResponse response,&#xA;                         AuthenticationException authException) throws IOException {&#xA;        // This is invoked when user tries to access a secured REST resource without supplying any credentials&#xA;        // We should just send a 401 Unauthorized response because there is no 'login page' to redirect to&#xA;        response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);&#xA;    }&#xA;}&#xA;"/>
        <fileUrl xsi:type="ocl.ecore:OperationCallExp">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
          <source xsi:type="ocl.ecore:OperationCallExp">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            <source xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="main/java/">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </source>
            <argument xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="com/softtek/acceleo/demo/security/">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
          </source>
          <argument xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="JwtAuthenticationEntryPoint.java">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
        </fileUrl>
      </body>
      <body xsi:type="mtl:FileBlock" openMode="OverWrite">
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="package com.softtek.acceleo.demo.security;&#xA;&#xA;import java.io.Serializable;&#xA;&#xA;public class  JwtAuthenticationRequest implements Serializable {&#xA;&#xA;    private static final long serialVersionUID = -8445943548965154778L;&#xA;&#xA;    private String username;&#xA;    private String password;&#xA;&#xA;    public JwtAuthenticationRequest() {&#xA;        super();&#xA;    }&#xA;&#xA;    public JwtAuthenticationRequest(String username, String password) {&#xA;        this.setUsername(username);&#xA;        this.setPassword(password);&#xA;    }&#xA;&#xA;    public String getUsername() {&#xA;        return this.username;&#xA;    }&#xA;&#xA;    public void setUsername(String username) {&#xA;        this.username = username;&#xA;    }&#xA;&#xA;    public String getPassword() {&#xA;        return this.password;&#xA;    }&#xA;&#xA;    public void setPassword(String password) {&#xA;        this.password = password;&#xA;    }&#xA;}&#xA;"/>
        <fileUrl xsi:type="ocl.ecore:OperationCallExp">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
          <source xsi:type="ocl.ecore:OperationCallExp">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            <source xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="main/java/">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </source>
            <argument xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="com/softtek/acceleo/demo/security/">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
          </source>
          <argument xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="JwtAuthenticationRequest.java">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
        </fileUrl>
      </body>
      <body xsi:type="mtl:FileBlock" openMode="OverWrite">
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="package com.softtek.acceleo.demo.security;&#xA;&#xA;import java.io.IOException;&#xA;import javax.servlet.FilterChain;&#xA;import javax.servlet.ServletException;&#xA;import javax.servlet.http.HttpServletRequest;&#xA;import javax.servlet.http.HttpServletResponse;&#xA;&#xA;import io.jsonwebtoken.ExpiredJwtException;&#xA;import org.slf4j.Logger;&#xA;import org.slf4j.LoggerFactory;&#xA;import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;&#xA;import org.springframework.security.core.context.SecurityContextHolder;&#xA;import org.springframework.security.core.userdetails.UserDetails;&#xA;import org.springframework.security.core.userdetails.UserDetailsService;&#xA;import org.springframework.security.web.authentication.WebAuthenticationDetailsSource;&#xA;import org.springframework.web.filter.OncePerRequestFilter;&#xA;&#xA;public class JwtAuthorizationTokenFilter extends OncePerRequestFilter {&#xA;&#xA;    private final Logger logger = LoggerFactory.getLogger(this.getClass());&#xA;&#xA;    private UserDetailsService userDetailsService;&#xA;    private JwtTokenUtil jwtTokenUtil;&#xA;    private String tokenHeader;&#xA;&#xA;    public JwtAuthorizationTokenFilter(UserDetailsService userDetailsService, JwtTokenUtil jwtTokenUtil, String tokenHeader) {&#xA;        this.userDetailsService = userDetailsService;&#xA;        this.jwtTokenUtil = jwtTokenUtil;&#xA;        this.tokenHeader = tokenHeader;&#xA;    }&#xA;&#xA;    @Override&#xA;    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws ServletException, IOException {&#xA;        logger.info(&quot;Processing authentication for '{}'&quot;, request.getRequestURL());&#xA;&#xA;        final String requestHeader = request.getHeader(this.tokenHeader);&#xA;&#xA;        String username = null;&#xA;        String authToken = null;&#xA;        &#xA;        &#xA;        logger.info(&quot;HEADER &quot;+requestHeader );&#xA;        &#xA;        if (requestHeader != null &amp;&amp; requestHeader.startsWith(&quot;Bearer &quot;)) {&#xA;        &#x9;logger.info(&quot;GET Token&quot; );&#xA;            &#xA;            authToken = requestHeader.substring(7);&#xA;            logger.info(&quot;AuthToken&quot; + authToken);&#xA;            &#xA;            try {&#xA;                username = jwtTokenUtil.getUsernameFromToken(authToken);&#xA;            } catch (IllegalArgumentException e) {&#xA;                logger.error(&quot;An error occured during getting username from token&quot;, e);&#xA;            } catch (ExpiredJwtException e) {&#xA;                logger.warn(&quot;The token is expired and not valid anymore&quot;, e);&#xA;            }&#xA;        } else {&#xA;            logger.warn(&quot;Couldn't find bearer string, will ignore the header&quot;);&#xA;        }&#xA;&#xA;        logger.debug(&quot;checking authentication for user '{}'&quot;, username);&#xA;        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {&#xA;            logger.debug(&quot;Security context was null, so authorizating user&quot;);&#xA;&#xA;            // It is not compelling necessary to load the use details from the database. You could also store the information&#xA;            // in the token and read it from it. It's up to you ;)&#xA;            UserDetails userDetails = this.userDetailsService.loadUserByUsername(username);&#xA;&#xA;            // For simple validation it is completely sufficient to just check the token integrity. You don't have to call&#xA;            // the database compellingly. Again it's up to you ;)&#xA;            logger.debug(&quot;UserDetail &quot;+userDetails.getAuthorities().toString());&#xA;&#xA;            if (jwtTokenUtil.validateToken(authToken, userDetails)) {&#xA;            &#x9;logger.debug(&quot;In jwtTokenUtil.validateToken() &quot;);&#xA;                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());&#xA;                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));&#xA;                logger.info(&quot;authorizated user '{}', setting security context&quot;, username);&#xA;                SecurityContextHolder.getContext().setAuthentication(authentication);&#xA;            }&#xA;        }&#xA;&#xA;        chain.doFilter(request, response);&#xA;    }&#xA;}&#xA;"/>
        <fileUrl xsi:type="ocl.ecore:OperationCallExp">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
          <source xsi:type="ocl.ecore:OperationCallExp">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            <source xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="main/java/">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </source>
            <argument xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="com/softtek/acceleo/demo/security/">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
          </source>
          <argument xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="JwtAuthorizationTokenFilter.java">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
        </fileUrl>
      </body>
      <body xsi:type="mtl:FileBlock" openMode="OverWrite">
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="package com.softtek.acceleo.demo.security;&#xA;&#xA;import java.io.Serializable;&#xA;import java.util.Date;&#xA;import java.util.HashMap;&#xA;import java.util.Map;&#xA;import java.util.function.Function;&#xA;&#xA;import io.jsonwebtoken.Claims;&#xA;import io.jsonwebtoken.Clock;&#xA;import io.jsonwebtoken.Jwts;&#xA;import io.jsonwebtoken.SignatureAlgorithm;&#xA;import io.jsonwebtoken.impl.DefaultClock;&#xA;&#xA;import org.slf4j.Logger;&#xA;import org.slf4j.LoggerFactory;&#xA;import org.springframework.beans.factory.annotation.Value;&#xA;import org.springframework.security.core.userdetails.UserDetails;&#xA;import org.springframework.stereotype.Component;&#xA;&#xA;@Component&#xA;public class JwtTokenUtil implements Serializable {&#xA;&#xA;&#x9;private final Logger logger = LoggerFactory.getLogger(this.getClass());&#xA;&#x9;static final String CLAIM_KEY_USERNAME = &quot;sub&quot;;&#xA;&#x9;static final String CLAIM_KEY_CREATED = &quot;iat&quot;;&#xA;&#x9;private static final long serialVersionUID = -3301605591108950415L;&#xA;&#xA;&#x9;private Clock clock = DefaultClock.INSTANCE;&#xA;&#xA;&#x9;@Value(&quot;${jwt.secret}&quot;)&#xA;&#x9;private String secret;&#xA;&#xA;&#x9;@Value(&quot;${jwt.expiration}&quot;)&#xA;&#x9;private Long expiration;&#xA;&#xA;&#x9;public String getUsernameFromToken(String token) {&#xA;&#xA;&#x9;&#x9;logger.info(&quot;On GetUsernameFromToken secret :&quot; + secret);&#xA;&#xA;&#x9;&#x9;return getClaimFromToken(token, Claims::getSubject);&#xA;&#x9;}&#xA;&#xA;&#x9;public Date getIssuedAtDateFromToken(String token) {&#xA;&#x9;&#x9;return getClaimFromToken(token, Claims::getIssuedAt);&#xA;&#x9;}&#xA;&#xA;&#x9;public Date getExpirationDateFromToken(String token) {&#xA;&#x9;&#x9;return getClaimFromToken(token, Claims::getExpiration);&#xA;&#x9;}&#xA;&#xA;&#x9;public &lt;T> T getClaimFromToken(String token, Function&lt;Claims, T> claimsResolver) {&#xA;&#x9;&#x9;final Claims claims = getAllClaimsFromToken(token);&#xA;&#x9;&#x9;return claimsResolver.apply(claims);&#xA;&#x9;}&#xA;&#xA;&#x9;private Claims getAllClaimsFromToken(String token) {&#xA;&#x9;&#x9;return Jwts.parser().setSigningKey(secret).parseClaimsJws(token).getBody();&#xA;&#x9;}&#xA;&#xA;&#x9;private Boolean isTokenExpired(String token) {&#xA;&#x9;&#x9;final Date expiration = getExpirationDateFromToken(token);&#xA;&#xA;&#x9;&#x9;logger.debug(&quot;******************* EXPIRATION : &quot; + expiration);&#xA;&#xA;&#x9;&#x9;logger.debug(&quot;******************* CLOCK : &quot; + clock.now());&#xA;&#x9;&#x9;return expiration.before(clock.now());&#xA;&#x9;}&#xA;&#xA;&#x9;private Boolean isCreatedBeforeLastPasswordReset(Date created, Date lastPasswordReset) {&#xA;&#x9;&#x9;return (lastPasswordReset != null &amp;&amp; created.before(lastPasswordReset));&#xA;&#x9;}&#xA;&#xA;&#x9;private Boolean ignoreTokenExpiration(String token) {&#xA;&#x9;&#x9;// here you specify tokens, for that the expiration is ignored&#xA;&#x9;&#x9;return false;&#xA;&#x9;}&#xA;&#xA;&#x9;public String generateToken(UserDetails userDetails) {&#xA;&#x9;&#x9;Map&lt;String, Object> claims = new HashMap&lt;>();&#xA;&#x9;&#x9;return doGenerateToken(claims, userDetails.getUsername());&#xA;&#x9;}&#xA;&#xA;&#x9;private String doGenerateToken(Map&lt;String, Object> claims, String subject) {&#xA;&#x9;&#x9;final Date createdDate = clock.now();&#xA;&#x9;&#x9;final Date expirationDate = calculateExpirationDate(createdDate);&#xA;&#xA;&#x9;&#x9;logger.info(&quot;********** Fecha  :&quot; + new Date());&#xA;&#x9;&#x9;logger.info(&quot;********** createDate clock now :&quot; + createdDate);&#xA;&#x9;&#x9;logger.info(&quot;********** EXPIRATIONDATE :&quot; + expirationDate);&#xA;&#xA;&#x9;&#x9;return Jwts.builder().setClaims(claims).setSubject(subject).setIssuedAt(createdDate)&#xA;&#x9;&#x9;&#x9;&#x9;.setExpiration(expirationDate).signWith(SignatureAlgorithm.HS512, secret).compact();&#xA;&#x9;}&#xA;&#xA;&#x9;public Boolean canTokenBeRefreshed(String token, Date lastPasswordReset) {&#xA;&#x9;&#x9;final Date created = getIssuedAtDateFromToken(token);&#xA;&#x9;&#x9;return !isCreatedBeforeLastPasswordReset(created, lastPasswordReset)&#xA;&#x9;&#x9;&#x9;&#x9;&amp;&amp; (!isTokenExpired(token) || ignoreTokenExpiration(token));&#xA;&#x9;}&#xA;&#xA;&#x9;public String refreshToken(String token) {&#xA;&#x9;&#x9;final Date createdDate = clock.now();&#xA;&#x9;&#x9;final Date expirationDate = calculateExpirationDate(createdDate);&#xA;&#xA;&#x9;&#x9;final Claims claims = getAllClaimsFromToken(token);&#xA;&#x9;&#x9;claims.setIssuedAt(createdDate);&#xA;&#x9;&#x9;claims.setExpiration(expirationDate);&#xA;&#xA;&#x9;&#x9;return Jwts.builder().setClaims(claims).signWith(SignatureAlgorithm.HS512, secret).compact();&#xA;&#x9;}&#xA;&#xA;&#x9;public Boolean validateToken(String token, UserDetails userDetails) {&#xA;&#x9;&#x9;JwtUser user = (JwtUser) userDetails;&#xA;&#x9;&#x9;final String username = getUsernameFromToken(token);&#xA;&#x9;&#x9;final Date created = getIssuedAtDateFromToken(token);&#xA;&#x9;&#x9;// final Date expiration = getExpirationDateFromToken(token);&#xA;&#xA;&#x9;&#x9;logger.debug(&quot;validateToken &quot;);&#xA;&#x9;&#x9;return (username.equals(user.getUsername()) &amp;&amp; !isTokenExpired(token)&#xA;&#x9;&#x9;&#x9;&#x9;&amp;&amp; !isCreatedBeforeLastPasswordReset(created, user.getLastPasswordResetDate()));&#xA;&#x9;}&#xA;&#xA;&#x9;private Date calculateExpirationDate(Date createdDate) {&#xA;&#xA;&#x9;&#x9;logger.info(&quot;********************** createDate&quot; + createdDate);&#xA;&#x9;&#x9;logger.info(&quot;********************** expiration&quot; + expiration);&#xA;&#xA;&#x9;&#x9;Date ejemplo = new Date(createdDate.getTime() + expiration * 1000);&#xA;&#x9;&#x9;logger.info(&quot;********************** calculada&quot; + ejemplo);&#xA;&#x9;&#x9;return new Date(createdDate.getTime() + expiration * 1000);&#xA;&#x9;}&#xA;}&#xA;"/>
        <fileUrl xsi:type="ocl.ecore:OperationCallExp">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
          <source xsi:type="ocl.ecore:OperationCallExp">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            <source xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="main/java/">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </source>
            <argument xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="com/softtek/acceleo/demo/security/">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
          </source>
          <argument xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="JwtTokenUtil.java">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
        </fileUrl>
      </body>
      <body xsi:type="mtl:FileBlock" openMode="OverWrite">
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="package com.softtek.acceleo.demo.security;&#xA;&#xA;import java.util.Collection;&#xA;import java.util.Date;&#xA;import java.util.List;&#xA;&#xA;import org.springframework.security.core.GrantedAuthority;&#xA;import org.springframework.security.core.userdetails.UserDetails;&#xA;&#xA;import com.fasterxml.jackson.annotation.JsonIgnore;&#xA;import com.softtek.acceleo.demo.domain.Privilege;&#xA;&#xA;/**&#xA; * Created by stephan on 20.03.16.&#xA; */&#xA;public class JwtUser implements UserDetails {&#xA;&#xA;    private final Long id;&#xA;    private final String username;&#xA;    private final String firstname;&#xA;    private final String lastname;&#xA;    private final String password;&#xA;    private final String email;&#xA;    private final Collection&lt;? extends GrantedAuthority> authorities;&#xA;    private final boolean enabled;&#xA;    private final Date lastPasswordResetDate;&#xA;&#xA;    public JwtUser(&#xA;          Long id,&#xA;          String username,&#xA;          String firstname,&#xA;          String lastname,&#xA;          String email,&#xA;          String password, Collection&lt;? extends GrantedAuthority> authorities,&#xA;          boolean enabled,&#xA;          Date lastPasswordResetDate&#xA;    ) {&#xA;        this.id = id;&#xA;        this.username = username;&#xA;        this.firstname = firstname;&#xA;        this.lastname = lastname;&#xA;        this.email = email;&#xA;        this.password = password;&#xA;        this.authorities = authorities;&#xA;        this.enabled = enabled;&#xA;        this.lastPasswordResetDate = lastPasswordResetDate;&#xA;    }&#xA;    &#xA;    /**&#xA;     * Se carga informacion de los authority.&#xA;     * @return&#xA;     */&#xA;    private Collection&lt;? extends Privilege> loadPrivilege(){&#xA;    &#x9;&#xA;    &#x9;&#xA;    &#x9;return null;&#xA;    }&#xA;    &#xA;&#xA;    @JsonIgnore&#xA;    public Long getId() {&#xA;        return id;&#xA;    }&#xA;&#xA;    @Override&#xA;    public String getUsername() {&#xA;        return username;&#xA;    }&#xA;&#xA;    @JsonIgnore&#xA;    @Override&#xA;    public boolean isAccountNonExpired() {&#xA;        return true;&#xA;    }&#xA;&#xA;    @JsonIgnore&#xA;    @Override&#xA;    public boolean isAccountNonLocked() {&#xA;        return true;&#xA;    }&#xA;&#xA;    @JsonIgnore&#xA;    @Override&#xA;    public boolean isCredentialsNonExpired() {&#xA;        return true;&#xA;    }&#xA;&#xA;    public String getFirstname() {&#xA;        return firstname;&#xA;    }&#xA;&#xA;    public String getLastname() {&#xA;        return lastname;&#xA;    }&#xA;&#xA;    public String getEmail() {&#xA;        return email;&#xA;    }&#xA;&#xA;    @JsonIgnore&#xA;    @Override&#xA;    public String getPassword() {&#xA;        return password;&#xA;    }&#xA;&#xA;    @Override&#xA;    public Collection&lt;? extends GrantedAuthority> getAuthorities() {&#xA;        return authorities;&#xA;    }&#xA;&#xA;    @Override&#xA;    public boolean isEnabled() {&#xA;        return enabled;&#xA;    }&#xA;&#xA;    @JsonIgnore&#xA;    public Date getLastPasswordResetDate() {&#xA;        return lastPasswordResetDate;&#xA;    }&#xA;}&#xA;"/>
        <fileUrl xsi:type="ocl.ecore:OperationCallExp">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
          <source xsi:type="ocl.ecore:OperationCallExp">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            <source xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="main/java/">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </source>
            <argument xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="com/softtek/acceleo/demo/security/">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
          </source>
          <argument xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="JwtUser.java">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
        </fileUrl>
      </body>
      <body xsi:type="mtl:FileBlock" openMode="OverWrite">
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="package com.softtek.acceleo.demo.security;&#xA;&#xA;import java.util.ArrayList;&#xA;import java.util.List;&#xA;import java.util.stream.Collectors;&#xA;&#xA;import org.apache.log4j.Logger;&#xA;import org.springframework.security.core.GrantedAuthority;&#xA;import org.springframework.security.core.authority.SimpleGrantedAuthority;&#xA;&#xA;import com.softtek.acceleo.demo.domain.Authority;&#xA;import com.softtek.acceleo.demo.domain.Privilege;&#xA;import com.softtek.acceleo.demo.domain.User;&#xA;import com.softtek.acceleo.demo.security.repository.AdminPermisosRepositoryImplTest;&#xA;&#xA;public final class JwtUserFactory {&#xA;&#x9;private static final Logger logger = Logger.getLogger(JwtUserFactory.class);&#xA;&#xA;&#x9;private JwtUserFactory() {&#xA;&#x9;}&#xA;&#xA;&#x9;public static JwtUser create(User user) {&#xA;&#x9;&#x9;return new JwtUser(user.getIdUser(), user.getUserName(), user.getFirstname(), user.getLastname(),&#xA;&#x9;&#x9;&#x9;&#x9;user.getEmail(), user.getPassword(), mapToGrantedAuthorities(user.getAuthorities()), user.getEnabled(),&#xA;&#x9;&#x9;&#x9;&#x9;user.getLastPasswordResetDate());&#xA;&#x9;}&#xA;&#xA;&#x9;private static List&lt;GrantedAuthority> mapToGrantedAuthorities(List&lt;Authority> authorities) {&#xA;&#x9;&#x9;// Barrer los autorities&#xA;&#x9;&#x9;// Por cada Autority obtener privilegios&#xA;&#x9;&#x9;// Y cada nombre de privilegio crear un arrglo de GrantedAuthority&#xA;&#x9;&#x9;List&lt;GrantedAuthority> listGrantedAuthority = new ArrayList&lt;>();&#xA;&#x9;&#x9;String prefijoRole = &quot;ROLE_&quot;;&#xA;&#xA;&#x9;&#x9;logger.info(&#xA;&#x9;&#x9;&#x9;&#x9;&quot;/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_&quot;);&#xA;&#x9;&#x9;logger.info(&quot;Iniciando convert AUTHORITY --> PRIVILEGE:&quot;);&#xA;&#x9;&#x9;for (Authority authority : authorities) {&#xA;&#x9;&#x9;&#x9;logger.info(&quot;JAAAAAS&quot; + authority.getEnabled());&#xA;&#x9;&#x9;&#x9;//Si al obtener el rol (Authority) no esta habilitado&#xA;&#x9;&#x9;&#x9;//no se agregan los privilegios&#xA;&#x9;&#x9;&#x9;if (authority.getEnabled())&#xA;&#x9;&#x9;&#x9;&#x9;for (Privilege privilege : authority.getPrivilege()) {&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;listGrantedAuthority.add(new SimpleGrantedAuthority(prefijoRole + privilege.getName()));&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;logger.info(&quot;Name: &quot; + prefijoRole + privilege.getName());&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;logger.info(&quot;Finalizando convert AUTHORITY --> PRIVILEGE:&quot;);&#xA;&#x9;&#x9;logger.info(&#xA;&#x9;&#x9;&#x9;&#x9;&quot;/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_&quot;);&#xA;&#xA;&#x9;&#x9;return listGrantedAuthority;&#xA;&#xA;&#x9;}&#xA;}&#xA;"/>
        <fileUrl xsi:type="ocl.ecore:OperationCallExp">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
          <source xsi:type="ocl.ecore:OperationCallExp">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            <source xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="main/java/">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </source>
            <argument xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="com/softtek/acceleo/demo/security/">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
          </source>
          <argument xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="JwtUserFactory.java">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
        </fileUrl>
      </body>
      <body xsi:type="mtl:FileBlock" openMode="OverWrite">
        <body xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="package com.softtek.acceleo.demo.security;&#xA;&#xA;public interface PasswordEncoder {&#xA;&#xA;}&#xA;"/>
        <fileUrl xsi:type="ocl.ecore:OperationCallExp">
          <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
          <source xsi:type="ocl.ecore:OperationCallExp">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            <source xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="main/java/">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </source>
            <argument xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="com/softtek/acceleo/demo/security/">
              <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
            </argument>
            <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
          </source>
          <argument xsi:type="ocl.ecore:StringLiteralExp" stringSymbol="PasswordEncoder.java">
            <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
          </argument>
          <referredOperation xsi:type="ecore:EOperation" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String_Class/concat"/>
        </fileUrl>
      </body>
      <parameter name="aModel">
        <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/uml2/5.0.0/UML#//Model"/>
      </parameter>
    </ownedModuleElement>
  </mtl:Module>
  <ecore:EPackage name="additions">
    <eClassifiers xsi:type="ecore:EClass" name="oclstdlib_String_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
      </eAnnotations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="oclstdlib_Integer_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Integer"/>
      </eAnnotations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="oclstdlib_Real_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Real"/>
      </eAnnotations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="ecore_EObject_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://www.eclipse.org/emf/2002/Ecore#//EObject"/>
      </eAnnotations>
      <eOperations name="generateElementJwtAuthentication">
        <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
          <contents xsi:type="ocl.ecore:Constraint"/>
        </eAnnotations>
        <eAnnotations source="MTL" references="/0/generateElementJwtAuthentication"/>
        <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
        <eParameters name="aModel">
          <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/uml2/5.0.0/UML#//Model"/>
        </eParameters>
      </eOperations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="oclstdlib_OclAny_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OclAny"/>
      </eAnnotations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="oclstdlib_Collection(T)_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Collection(T)"/>
      </eAnnotations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="oclstdlib_Sequence(T)_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/Sequence(T)"/>
      </eAnnotations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="oclstdlib_OrderedSet(T)_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/OrderedSet(T)"/>
      </eAnnotations>
    </eClassifiers>
    <eClassifiers xsi:type="ecore:EClass" name="uml_Model_Class">
      <eAnnotations source="http://www.eclipse.org/ocl/1.1.0/OCL">
        <references href="http://www.eclipse.org/uml2/5.0.0/UML#//Model"/>
      </eAnnotations>
    </eClassifiers>
  </ecore:EPackage>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EObject"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/uml2/5.0.0/UML#//Model"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ocl.ecore:PrimitiveType" href="http://www.eclipse.org/ocl/1.1.0/oclstdlib.ecore#/0/String"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/uml2/5.0.0/UML#//Model"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/uml2/5.0.0/UML#//Model"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/uml2/5.0.0/UML#//Model"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/uml2/5.0.0/UML#//Model"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/uml2/5.0.0/UML#//Model"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/uml2/5.0.0/UML#//Model"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/uml2/5.0.0/UML#//Model"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/uml2/5.0.0/UML#//Model"/>
  </ocl.ecore:Variable>
  <ocl.ecore:Variable name="self">
    <eType xsi:type="ecore:EClass" href="http://www.eclipse.org/emf/2002/Ecore#//EObject"/>
  </ocl.ecore:Variable>
  <ecore:EAnnotation source="positions">
    <eAnnotations source="positions.0" references="/0/generateElementJwtAuthentication">
      <details key="start" value="98"/>
      <details key="end" value="16567"/>
      <details key="line" value="4"/>
    </eAnnotations>
    <eAnnotations source="positions.1" references="/0/generateElementJwtAuthentication/%">
      <details key="start" value="183"/>
      <details key="end" value="184"/>
      <details key="line" value="6"/>
    </eAnnotations>
    <eAnnotations source="positions.2" references="/0/generateElementJwtAuthentication/%.1">
      <details key="start" value="184"/>
      <details key="end" value="1451"/>
      <details key="line" value="7"/>
    </eAnnotations>
    <eAnnotations source="positions.3" references="/0/generateElementJwtAuthentication/%.1/%">
      <details key="start" value="312"/>
      <details key="end" value="1444"/>
      <details key="line" value="8"/>
    </eAnnotations>
    <eAnnotations source="positions.4" references="/0/generateElementJwtAuthentication/%.1/%.1">
      <details key="start" value="191"/>
      <details key="end" value="291"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.5" references="/0/generateElementJwtAuthentication/%.1/%.1/%">
      <details key="start" value="191"/>
      <details key="end" value="248"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.6" references="/0/generateElementJwtAuthentication/%.1/%.1/%/%">
      <details key="start" value="191"/>
      <details key="end" value="203"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.7" references="/0/generateElementJwtAuthentication/%.1/%.1/%/%.1">
      <details key="start" value="211"/>
      <details key="end" value="247"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.8" references="/0/generateElementJwtAuthentication/%.1/%.1/%.1">
      <details key="start" value="256"/>
      <details key="end" value="290"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.9" references="/0/generateElementJwtAuthentication/%.2">
      <details key="start" value="1452"/>
      <details key="end" value="2390"/>
      <details key="line" value="35"/>
    </eAnnotations>
    <eAnnotations source="positions.10" references="/0/generateElementJwtAuthentication/%.2/%">
      <details key="start" value="1577"/>
      <details key="end" value="2383"/>
      <details key="line" value="36"/>
    </eAnnotations>
    <eAnnotations source="positions.11" references="/0/generateElementJwtAuthentication/%.2/%.1">
      <details key="start" value="1459"/>
      <details key="end" value="1556"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.12" references="/0/generateElementJwtAuthentication/%.2/%.1/%">
      <details key="start" value="1459"/>
      <details key="end" value="1516"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.13" references="/0/generateElementJwtAuthentication/%.2/%.1/%/%">
      <details key="start" value="1459"/>
      <details key="end" value="1471"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.14" references="/0/generateElementJwtAuthentication/%.2/%.1/%/%.1">
      <details key="start" value="1479"/>
      <details key="end" value="1515"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.15" references="/0/generateElementJwtAuthentication/%.2/%.1/%.1">
      <details key="start" value="1524"/>
      <details key="end" value="1555"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.16" references="/0/generateElementJwtAuthentication/%.3">
      <details key="start" value="2391"/>
      <details key="end" value="6492"/>
      <details key="line" value="73"/>
    </eAnnotations>
    <eAnnotations source="positions.17" references="/0/generateElementJwtAuthentication/%.3/%">
      <details key="start" value="2519"/>
      <details key="end" value="6485"/>
      <details key="line" value="74"/>
    </eAnnotations>
    <eAnnotations source="positions.18" references="/0/generateElementJwtAuthentication/%.3/%.1">
      <details key="start" value="2398"/>
      <details key="end" value="2498"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.19" references="/0/generateElementJwtAuthentication/%.3/%.1/%">
      <details key="start" value="2398"/>
      <details key="end" value="2455"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.20" references="/0/generateElementJwtAuthentication/%.3/%.1/%/%">
      <details key="start" value="2398"/>
      <details key="end" value="2410"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.21" references="/0/generateElementJwtAuthentication/%.3/%.1/%/%.1">
      <details key="start" value="2418"/>
      <details key="end" value="2454"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.22" references="/0/generateElementJwtAuthentication/%.3/%.1/%.1">
      <details key="start" value="2463"/>
      <details key="end" value="2497"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.23" references="/0/generateElementJwtAuthentication/%.4">
      <details key="start" value="6493"/>
      <details key="end" value="11217"/>
      <details key="line" value="160"/>
    </eAnnotations>
    <eAnnotations source="positions.24" references="/0/generateElementJwtAuthentication/%.4/%">
      <details key="start" value="6606"/>
      <details key="end" value="11210"/>
      <details key="line" value="161"/>
    </eAnnotations>
    <eAnnotations source="positions.25" references="/0/generateElementJwtAuthentication/%.4/%.1">
      <details key="start" value="6500"/>
      <details key="end" value="6585"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.26" references="/0/generateElementJwtAuthentication/%.4/%.1/%">
      <details key="start" value="6500"/>
      <details key="end" value="6557"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.27" references="/0/generateElementJwtAuthentication/%.4/%.1/%/%">
      <details key="start" value="6500"/>
      <details key="end" value="6512"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.28" references="/0/generateElementJwtAuthentication/%.4/%.1/%/%.1">
      <details key="start" value="6520"/>
      <details key="end" value="6556"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.29" references="/0/generateElementJwtAuthentication/%.4/%.1/%.1">
      <details key="start" value="6565"/>
      <details key="end" value="6584"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.30" references="/0/generateElementJwtAuthentication/%.5">
      <details key="start" value="11218"/>
      <details key="end" value="13978"/>
      <details key="line" value="295"/>
    </eAnnotations>
    <eAnnotations source="positions.31" references="/0/generateElementJwtAuthentication/%.5/%">
      <details key="start" value="11326"/>
      <details key="end" value="13971"/>
      <details key="line" value="296"/>
    </eAnnotations>
    <eAnnotations source="positions.32" references="/0/generateElementJwtAuthentication/%.5/%.1">
      <details key="start" value="11225"/>
      <details key="end" value="11305"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.33" references="/0/generateElementJwtAuthentication/%.5/%.1/%">
      <details key="start" value="11225"/>
      <details key="end" value="11282"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.34" references="/0/generateElementJwtAuthentication/%.5/%.1/%/%">
      <details key="start" value="11225"/>
      <details key="end" value="11237"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.35" references="/0/generateElementJwtAuthentication/%.5/%.1/%/%.1">
      <details key="start" value="11245"/>
      <details key="end" value="11281"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.36" references="/0/generateElementJwtAuthentication/%.5/%.1/%.1">
      <details key="start" value="11290"/>
      <details key="end" value="11304"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.37" references="/0/generateElementJwtAuthentication/%.6">
      <details key="start" value="13980"/>
      <details key="end" value="16349"/>
      <details key="line" value="417"/>
    </eAnnotations>
    <eAnnotations source="positions.38" references="/0/generateElementJwtAuthentication/%.6/%">
      <details key="start" value="14095"/>
      <details key="end" value="16342"/>
      <details key="line" value="418"/>
    </eAnnotations>
    <eAnnotations source="positions.39" references="/0/generateElementJwtAuthentication/%.6/%.1">
      <details key="start" value="13987"/>
      <details key="end" value="14074"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.40" references="/0/generateElementJwtAuthentication/%.6/%.1/%">
      <details key="start" value="13987"/>
      <details key="end" value="14044"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.41" references="/0/generateElementJwtAuthentication/%.6/%.1/%/%">
      <details key="start" value="13987"/>
      <details key="end" value="13999"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.42" references="/0/generateElementJwtAuthentication/%.6/%.1/%/%.1">
      <details key="start" value="14007"/>
      <details key="end" value="14043"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.43" references="/0/generateElementJwtAuthentication/%.6/%.1/%.1">
      <details key="start" value="14052"/>
      <details key="end" value="14073"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.44" references="/0/generateElementJwtAuthentication/%.7">
      <details key="start" value="16350"/>
      <details key="end" value="16555"/>
      <details key="line" value="474"/>
    </eAnnotations>
    <eAnnotations source="positions.45" references="/0/generateElementJwtAuthentication/%.7/%">
      <details key="start" value="16466"/>
      <details key="end" value="16548"/>
      <details key="line" value="475"/>
    </eAnnotations>
    <eAnnotations source="positions.46" references="/0/generateElementJwtAuthentication/%.7/%.1">
      <details key="start" value="16357"/>
      <details key="end" value="16445"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.47" references="/0/generateElementJwtAuthentication/%.7/%.1/%">
      <details key="start" value="16357"/>
      <details key="end" value="16414"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.48" references="/0/generateElementJwtAuthentication/%.7/%.1/%/%">
      <details key="start" value="16357"/>
      <details key="end" value="16369"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.49" references="/0/generateElementJwtAuthentication/%.7/%.1/%/%.1">
      <details key="start" value="16377"/>
      <details key="end" value="16413"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.50" references="/0/generateElementJwtAuthentication/%.7/%.1/%.1">
      <details key="start" value="16422"/>
      <details key="end" value="16444"/>
      <details key="line" value="0"/>
    </eAnnotations>
    <eAnnotations source="positions.51" references="/0/generateElementJwtAuthentication/aModel">
      <details key="start" value="148"/>
      <details key="end" value="162"/>
      <details key="line" value="4"/>
    </eAnnotations>
  </ecore:EAnnotation>
</xmi:XMI>
